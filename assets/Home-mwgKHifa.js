import{u as w,a as S,c as g,o as P,b as B,w as c,d as N,r as j,e as o,f as t,t as s,g as x,h as i,i as a,F as y,j as u,k as T,n as C}from"./index-CSEyxdT9.js";import{_ as E}from"./AppLayout-B6hHIpEb.js";import"./Footer-CwoNZgPF.js";const A={class:"space-y-8"},K={class:"bg-gradient-to-r from-primary to-blue-900 dark:from-gray-900 dark:to-black text-white rounded-xl p-8 shadow-lg"},L={class:"text-3xl sm:text-4xl font-bold mb-2"},V={class:"grid grid-cols-1 sm:grid-cols-3 gap-6"},D={class:"text-4xl font-bold text-gray-900 dark:text-white mb-2"},F={class:"text-sm text-gray-600 dark:text-gray-400"},I={class:"text-4xl font-bold text-gray-900 dark:text-white mb-2"},$={class:"text-2xl font-bold text-gray-900 dark:text-white mb-2 break-words"},W={class:"bg-white dark:bg-gray-900 rounded-xl shadow-md border border-gray-100 dark:border-gray-700 p-6"},z={key:0,class:"overflow-x-auto"},H={class:"w-full"},R={class:"py-3 px-4"},M={class:"py-3 px-4 font-semibold text-gray-900 dark:text-white"},q={class:"py-3 px-4"},G={key:0,class:"inline-block bg-red-100 dark:bg-red-950 text-red-800 dark:text-red-300 text-xs font-semibold px-3 py-1 rounded-full"},J={key:1,class:"inline-block bg-yellow-100 dark:bg-yellow-950 text-yellow-800 dark:text-yellow-300 text-xs font-semibold px-3 py-1 rounded-full"},O={key:1,class:"text-center py-8 text-gray-500 dark:text-gray-400"},Q={class:"bg-white dark:bg-gray-900 rounded-xl shadow-md border border-gray-100 dark:border-gray-700 p-6"},U={key:0,class:"space-y-4"},X={class:"flex items-center justify-between"},Y={class:"font-semibold text-gray-700 dark:text-gray-300 capitalize"},Z={class:"text-sm text-gray-600 dark:text-gray-400"},tt={class:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-3 overflow-hidden"},et={key:1,class:"text-center py-8 text-gray-500 dark:text-gray-400"},rt={class:"bg-white dark:bg-gray-900 rounded-xl shadow-md border border-gray-100 dark:border-gray-700 p-6"},st={key:0,class:"space-y-4"},ot=["onClick"],at={class:"flex items-center space-x-4 flex-1 min-w-0"},dt=["src","alt"],lt={class:"min-w-0"},it={class:"font-semibold text-gray-900 dark:text-white truncate"},nt={class:"text-sm text-gray-600 dark:text-gray-400 truncate"},ct={class:"text-right ml-4"},xt={class:"font-semibold text-gray-900 dark:text-white"},gt={class:"text-sm text-gray-600 dark:text-gray-400"},yt={key:1,class:"text-center py-8 text-gray-500 dark:text-gray-400"},kt={__name:"Home",setup(ut){const m=N(),d=w(),b=S(),h=g(()=>{var l;return(l=b.user)!=null&&l.firstName?b.user.firstName:"Admin"}),k=g(()=>d.totalProducts.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),p=g(()=>d.totalStock.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),f=l=>{if(!l)return"KES 0.00";const r=(l*d.currentRate).toFixed(2),[n,e]=r.split(".");return"KES "+n.replace(/\B(?=(\d{3})+(?!\d))/g,",")+"."+e},_=l=>{m.push(`/products/${l}`)};return P(async()=>{await d.restoreFromLocalStorage()}),(l,r)=>{const n=j("router-link");return o(),B(E,null,{default:c(()=>[t("div",A,[t("div",K,[t("h1",L," Welcome back, "+s(h.value)+"! ðŸ‘‹ ",1),r[0]||(r[0]=t("p",{class:"text-blue-100 dark:text-gray-400 text-lg"},"Here's today's product overview.",-1))]),t("div",V,[x(n,{to:"/products",class:"bg-white dark:bg-gray-900 rounded-xl shadow-md border border-gray-100 dark:border-gray-700 p-6 hover:shadow-lg hover:border-primary transition-all cursor-pointer group"},{default:c(()=>[r[1]||(r[1]=t("div",{class:"flex items-center justify-between mb-4"},[t("h3",{class:"text-gray-700 dark:text-gray-300 font-semibold text-sm"},"Total Products"),t("div",{class:"text-3xl group-hover:scale-110 transition-transform"},"ðŸ“¦")],-1)),t("div",D,s(k.value),1),t("p",F,s(i(d).totalProducts===1?"product":"products")+" in inventory",1)]),_:1}),x(n,{to:"/products",class:"bg-white dark:bg-gray-900 rounded-xl shadow-md border border-gray-100 dark:border-gray-700 p-6 hover:shadow-lg hover:border-primary transition-all cursor-pointer group"},{default:c(()=>[r[2]||(r[2]=t("div",{class:"flex items-center justify-between mb-4"},[t("h3",{class:"text-gray-700 dark:text-gray-300 font-semibold text-sm"},"Total Stock"),t("div",{class:"text-3xl group-hover:scale-110 transition-transform"},"ðŸ·ï¸")],-1)),t("div",I,s(p.value),1),r[3]||(r[3]=t("p",{class:"text-sm text-gray-600 dark:text-gray-400"},"units available",-1))]),_:1}),x(n,{to:"/products",class:"bg-white dark:bg-gray-900 rounded-xl shadow-md border border-gray-100 dark:border-gray-700 p-6 hover:shadow-lg hover:border-primary transition-all cursor-pointer group"},{default:c(()=>[r[4]||(r[4]=t("div",{class:"flex items-center justify-between mb-4"},[t("h3",{class:"text-gray-700 dark:text-gray-300 font-semibold text-sm"},"Inventory Value"),t("div",{class:"text-3xl group-hover:scale-110 transition-transform"},"ðŸ’°")],-1)),t("div",$,s(i(d).inventoryValueKES),1),r[5]||(r[5]=t("p",{class:"text-sm text-gray-600 dark:text-gray-400"},"total value in KES",-1))]),_:1})]),t("div",W,[r[7]||(r[7]=t("div",{class:"flex items-center gap-3 mb-6"},[t("div",{class:"text-2xl"},"âš ï¸"),t("h2",{class:"text-2xl font-bold text-gray-900 dark:text-white"},"Low Stock Alerts")],-1)),i(d).lowStockItems.length?(o(),a("div",z,[t("table",H,[r[6]||(r[6]=t("thead",null,[t("tr",{class:"border-b border-gray-200 dark:border-gray-700"},[t("th",{class:"text-left py-3 px-4 font-semibold text-gray-700 dark:text-gray-300 text-sm"},"Product Name"),t("th",{class:"text-left py-3 px-4 font-semibold text-gray-700 dark:text-gray-300 text-sm"},"Stock Level"),t("th",{class:"text-left py-3 px-4 font-semibold text-gray-700 dark:text-gray-300 text-sm"},"Status")])],-1)),t("tbody",null,[(o(!0),a(y,null,u(i(d).lowStockItems,e=>(o(),a("tr",{key:e.id,class:"border-b border-gray-100 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-800 transition"},[t("td",R,[x(n,{to:`/products/${e.id}`,class:"text-primary font-semibold hover:underline"},{default:c(()=>[T(s(e.title),1)]),_:2},1032,["to"])]),t("td",M,s(e.stock)+" "+s(e.unit||"units"),1),t("td",q,[e.stock<5?(o(),a("span",G," ðŸ”´ Critical ")):(o(),a("span",J," ðŸŸ¡ Low "))])]))),128))])])])):(o(),a("div",O," âœ“ All products have healthy stock levels! "))]),t("div",Q,[r[8]||(r[8]=t("h2",{class:"text-2xl font-bold text-gray-900 dark:text-white mb-6"},"Category Distribution",-1)),i(d).categoryDistribution.length?(o(),a("div",U,[(o(!0),a(y,null,u(i(d).categoryDistribution,e=>(o(),a("div",{key:e.category,class:"space-y-2"},[t("div",X,[t("span",Y,s(e.category),1),t("span",Z,s(e.count)+" products ("+s(e.percent)+"%)",1)]),t("div",tt,[t("div",{class:"bg-gradient-to-r from-primary to-blue-700 h-3 rounded-full transition-all",style:C({width:e.percent+"%"})},null,4)])]))),128))])):(o(),a("div",et," No category data available "))]),t("div",rt,[r[9]||(r[9]=t("h2",{class:"text-2xl font-bold text-gray-900 dark:text-white mb-6"},"Top Products by Stock",-1)),i(d).topProductsByStock(5).length?(o(),a("div",st,[(o(!0),a(y,null,u(i(d).topProductsByStock(5),e=>(o(),a("div",{key:e.id,class:"flex items-center justify-between p-4 border border-gray-100 dark:border-gray-700 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 hover:border-primary transition cursor-pointer",onClick:v=>_(e.id)},[t("div",at,[t("img",{src:e.thumbnail,alt:e.title,class:"w-12 h-12 rounded-lg object-cover flex-shrink-0"},null,8,dt),t("div",lt,[t("p",it,s(e.title),1),t("p",nt,s(e.category),1)])]),t("div",ct,[t("p",xt,s(e.stock)+" "+s(e.unit||"units"),1),t("p",gt,s(f(e.price)),1)])],8,ot))),128))])):(o(),a("div",yt," No products available "))])])]),_:1})}}};export{kt as default};
